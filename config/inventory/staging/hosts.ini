# ======================================================
# INVENTORY: staging/hosts.ini
# Estructura compatible con host_vars + ProxyJump estable
# ======================================================

# ────── Layer 1: Entry Point ──────
[proxy]
192.168.0.222 ansible_user=root ansible_ssh_private_key_file=~/.ssh/ansible

# ────── Layer 2: VLAN 10 (via Proxy) ──────
[natgateway]
10.10.0.100 ansible_user=root ansible_ssh_private_key_file=~/.ssh/ansible ansible_ssh_common_args='-o ProxyJump=root@192.168.0.222'

[grafana_loki]
10.10.0.2 ansible_user=root ansible_ssh_private_key_file=~/.ssh/ansible ansible_ssh_common_args='-o ProxyJump=root@192.168.0.222'

[promtail]
10.10.0.3 ansible_user=root ansible_ssh_private_key_file=~/.ssh/ansible ansible_ssh_common_args='-o ProxyJump=root@192.168.0.222'

[router_10_20]
10.10.0.254 ansible_user=root ansible_ssh_private_key_file=~/.ssh/ansible ansible_ssh_common_args='-o ProxyJump=root@192.168.0.222'

# ────── Layer 3: VLAN 20 (via Proxy + Router 10_20) ──────
[app]
10.20.0.1 ansible_user=root ansible_ssh_private_key_file=~/.ssh/ansible ansible_ssh_common_args='-o ProxyJump=root@192.168.0.222,root@10.10.0.254'

[rabbit]
10.20.0.2 ansible_user=root ansible_ssh_private_key_file=~/.ssh/ansible ansible_ssh_common_args='-o ProxyJump=root@192.168.0.222,root@10.10.0.254'

[router_20_30]
10.20.0.253 ansible_user=root ansible_ssh_private_key_file=~/.ssh/ansible ansible_ssh_common_args='-o ProxyJump=root@192.168.0.222,root@10.10.0.254'

# ────── Layer 4: VLAN 30 (via Proxy + Router10_20 + Router20_30) ──────
[database]
10.30.0.1 ansible_user=root ansible_ssh_private_key_file=~/.ssh/ansible ansible_ssh_common_args='-o ProxyJump=root@192.168.0.222,root@10.10.0.254,root@10.20.0.253'

[redis]
10.30.0.2 ansible_user=root ansible_ssh_private_key_file=~/.ssh/ansible ansible_ssh_common_args='-o ProxyJump=root@192.168.0.222,root@10.10.0.254,root@10.20.0.253'

[backups]
10.30.0.3 ansible_user=root ansible_ssh_private_key_file=~/.ssh/ansible ansible_ssh_common_args='-o ProxyJump=root@192.168.0.222,root@10.10.0.254,root@10.20.0.253'

# ────── Common Variables ──────
[all:vars]
ansible_python_interpreter=/usr/bin/python3
